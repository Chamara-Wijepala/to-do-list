(()=>{"use strict";const t="project.list";let e=JSON.parse(localStorage.getItem(t))||[];const n="project.projectId";let o=localStorage.getItem(n);function i(){localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem(n,o)}const l=document.getElementById("project-list"),a=document.getElementById("project-form"),d=document.getElementById("project-input"),r=document.getElementById("task-menu"),c=document.getElementById("task-form"),s=document.querySelector(".delete-project-button");function u(){l.textContent="",e.forEach((t=>{const e=document.createElement("li");e.classList.add("project"),e.dataset.id=t.id,e.innerText=t.name,t.id===o&&e.classList.add("active-project"),l.appendChild(e)})),null===o?(r.style.display="none",c.style.display="none"):(r.style.display="",c.style.display="")}a.addEventListener("submit",(t=>{t.preventDefault(),function(){let t=d.value;null!==t&&""!==t&&(d.value=null,function(t){let n=function(t){return{id:Date.now().toString(),name:t,tasks:[]}}(t);e.push(n)}(t))}(),i(),u()})),s.addEventListener("click",(t=>{e=e.filter((t=>t.id!==o)),o=null,i(),u()}));const m=document.getElementById("task-menu"),p=document.getElementById("task-template"),y=document.getElementById("task-input");const g=document.getElementById("project-list"),f=document.getElementById("task-menu");function E(){i(),u(),"null"!==o&&(m.textContent="",e.find((t=>t.id===o)).tasks.forEach((t=>{const e=document.importNode(p.content,!0);e.querySelector("p").innerText=t.name;const n=e.querySelector("input");n.id=t.id,n.checked=t.priority;const o=e.querySelector("label");o.htmlFor=t.id,o.append("Priority: "+(t.priority?"High":"Normal"));const i=e.querySelector("button");i.id=t.id,i.innerText="Delete Task",m.appendChild(e)})))}document.getElementById("task-form").addEventListener("submit",(t=>{t.preventDefault(),function(){let t=y.value;null!==t&&""!==t&&(y.value=null,function(t){let n=e.find((t=>t.id===o)),i=function(t){return{id:Date.now().toString(),name:t,date:null,priority:!1}}(t);n.tasks.push(i)}(t))}(),E()})),g.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(function(t){o=t.target.dataset.id}(t),E())})),f.addEventListener("change",(t=>{"input"===t.target.tagName.toLowerCase()&&(function(t){let n=e.find((t=>t.id===o));const i=t.target.id;n.tasks.forEach((t=>{t.id===i&&(!0===t.priority?t.priority=!1:t.priority=!0)}))}(t),E())})),f.addEventListener("click",(t=>{"button"===t.target.tagName.toLowerCase()&&(function(t){const n=e.find((t=>t.id===o)),i=t.target.id;n.tasks=n.tasks.filter((t=>t.id!==i))}(t),E())})),E()})();
//# sourceMappingURL=main.js.map